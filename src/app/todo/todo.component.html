<div class="grid grid-cols-3 h-full items-center gap-x-4">
  <div class="flex flex-col gap-y-12">
    <app-update-user [userName]="userName"
                     (changedUser)="currentUserName.set($event())"></app-update-user>
  </div>
  <div class="flex flex-col gap-y-12">
    <mat-card class="p-8">
      <h2 mat-card-title>TODO LIST</h2>
      <small>current username: {{currentUserName()}}</small>
      <div class="flex flex-col">
        <mat-checkbox
          color="primary"
          *ngFor="let todo of pendingTodos();trackBy:trackById"
          (change)="updateTodo(todo.id,$event)">{{todo.name}}</mat-checkbox>
      </div>
    </mat-card>

    <mat-card class="p-8" *ngIf="formAddToDo">
      <h2 mat-card-title>Crear ToDo</h2>
      <form class="flex items-center gap-x-8" [formGroup]="formAddToDo"
            (ngSubmit)="addNewTodo()">
        <mat-form-field>
          <mat-label>ToDo Name</mat-label>
          <input type="text" matInput formControlName="name">
        </mat-form-field>
        <button mat-raised-button color="primary" type="submit"
                [disabled]="formAddToDo.invalid">CREAR
        </button>
      </form>
    </mat-card>
    <mat-card class="p-8">
      <h2 mat-card-title>TODO LIST COMPLETED</h2>
      <div class="flex flex-col">
        <mat-checkbox
          color="primary"
          *ngFor="let todo of completedTodos();trackBy:trackById"
          [checked]="todo.status"
          (change)="updateTodo(todo.id,$event)">{{todo.name}}</mat-checkbox>
      </div>
    </mat-card>

  </div>
  <div class="h-full flex justify-center items-start pt-8">
    <div class="flex items-center space-x-4">
      <img class="w-10 h-10 rounded-full"
           ngSrc="assets/img/klym.png" alt="klym" width="170" height="170">
      <div class="font-medium dark:text-white">
        <div>{{userName()}}</div>
      </div>
    </div>

  </div>
</div>


